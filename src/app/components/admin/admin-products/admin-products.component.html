<div class="container-fluid section-margin">
  <h2 class="section-intro__style mb-4">Products Management</h2>
  <div *ngIf="successMessage" class="alert alert-success">
    {{ successMessage }}
  </div>

  <div class="row mb-3">
    <div class="col-md-4 filter-bar-search">
      <input
        type="text"
        class="form-control"
        placeholder="Search by name ..."
        [(ngModel)]="searchTerm"
        (input)="filterProducts()"
      />
    </div>
    <div class="col-md-8 text-right">
      <button class="btn btn-primary custom-add-btn" (click)="addNewProduct()">
        <i class="fa fa-plus"></i> Add New Product
      </button>
    </div>
  </div>

  <div class="table-responsive">
    <table class="table custom-table">
      <thead>
        <tr>
          <th>No.</th>
          <th>Photo</th>
          <th>Name</th>
          <th>Description</th>
          <th>Price</th>
          <th>Stock</th>
          <th>Brand</th>
          <th>Size</th>
          <th>Gender</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let p of products;  let i = index">
          <td>{{ (currentPage) * itemsPerPage + i + 1 }}</td>
          <td><img [src]="p.photo" width="60" /></td>
          <td>{{ p.name }}</td>
          <td>{{ p.description }}</td>
          <td>{{ p.price | currency }}</td>
          <td>{{ p.quantity }}</td>
          <td>{{ p.brand }}</td>
          <td>{{ p.size }}</td>
          <td>{{ p.gender }}</td>
          <td>
            <button class="btn btn-sm btn-primary" 
            (click)="editProduct(p)"
            >
            
              <i class="fa fa-edit"></i>
            </button>

            <button class="btn btn-sm btn-danger" (click)="confirmDelete(p)">
              <i class="fa fa-trash"></i>
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <ul class="pagination justify-content-center mt-4">
    <li class="page-item" [class.disabled]="currentPage === 1">
      <button class="page-link" (click)="goToPage(currentPage - 1)">«</button>
    </li>
    <li
      class="page-item"
      *ngFor="let page of totalPagesArray"
      [class.active]="page === currentPage"
    >
      <button class="page-link" (click)="goToPage(page)">{{ page }}</button>
    </li>
    <li class="page-item" [class.disabled]="currentPage === totalPages">
      <button class="page-link" (click)="goToPage(currentPage + 1)">»</button>
    </li>
  </ul>
</div>
<!-- Edit Modal -->
<!-- <div div class="modal fade" id="editModal" tabindex="-1" role="dialog" *ngIf="selectedProduct">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <form (ngSubmit)="saveProduct()">
        <div class="modal-header">
          <h5 class="modal-title">Edit Product</h5>
          <button type="button" class="close" data-dismiss="modal">
            <span>&times;</span>
          </button>
        </div>
        <div class="modal-body row">
          <div class="form-group col-md-6">
            <label>Name</label>
            <input
              class="form-control"
              [(ngModel)]="selectedProduct.name"
              name="name"
              required
            />
          </div>
          <div class="form-group col-md-6">
            <label>Brand</label>
            <input
              class="form-control"
              [(ngModel)]="selectedProduct.brand"
              name="brand"
            />
          </div>
          <div class="form-group col-md-12">
            <label>Description</label>
            <textarea
              class="form-control"
              [(ngModel)]="selectedProduct.description"
              name="desc"
            ></textarea>
          </div>
          <div class="form-group col-md-4">
            <label>Price</label>
            <input
              type="number"
              class="form-control"
              [(ngModel)]="selectedProduct.price"
              name="price"
            />
          </div>
          <div class="form-group col-md-4">
            <label>Quantity</label>
            <input
              type="number"
              class="form-control"
              [(ngModel)]="selectedProduct.quantity"
              name="qty"
            />
          </div>
          <div class="form-group col-md-4">
            <label>Size</label>
            <input
              class="form-control"
              [(ngModel)]="selectedProduct.size"
              name="size"
            />
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" data-dismiss="modal">Cancel</button>
          <button type="submit" class="btn btn-primary">Save Changes</button>
        </div>
      </form>
    </div>
  </div>
</div> -->
